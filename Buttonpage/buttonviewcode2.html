<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CodePen View</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: Arial, sans-serif;
  height: 100vh;
  display: flex;
  flex-direction: column;
}

/* TOP BAR */
.header {
  background: #111;
  color: #fff;
  padding: 10px 15px;
  font-size: 16px;
}

/* MAIN */
.main {
  flex: 1;
  display: flex;
}

/* EDITOR */
.editor {
  width: 50%;
  background: #1e1e1e;
  color: #fff;
  display: flex;
  flex-direction: column;
}

/* TABS */
.tabs {
  display: flex;
}

.tabs button {
  flex: 1;
  padding: 10px;
  background: #2a2a2a;
  border: none;
  color: #fff;
  cursor: pointer;
}

.tabs button.active {
  background: #000;
}

/* PANELS */
.panel {
  flex: 1;
  display: none;
}

.panel.active {
  display: block;
}

textarea {
  width: 100%;
  height: 100%;
  background: #1e1e1e;
  color: #0f0;
  border: none;
  padding: 10px;
  font-family: monospace;
  resize: none;
}

/* PREVIEW */
.preview {
  width: 50%;
  border-left: 2px solid #ccc;
}

iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* FOOTER */
.footer {
  background: #111;
  padding: 6px;
  text-align: right;
}

.footer button {
  padding: 6px 12px;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="header">CodePen View (HTML / CSS / JS)</div>

<div class="main">

  <!-- EDITOR -->
  <div class="editor">

    <div class="tabs">
      <button class="tab active" onclick="showTab('html')">HTML</button>
      <button class="tab" onclick="showTab('css')">CSS</button>
      <button class="tab" onclick="showTab('js')">JS</button>
    </div>

    <div id="html" class="panel active">
<textarea id="htmlCode">
<button class="btn">Click Me</button>
</textarea>
    </div>

    <div id="css" class="panel">
<textarea id="cssCode">
.btn {
  padding: 14px 26px;
  background: dodgerblue;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
}
</textarea>
    </div>

    <div id="js" class="panel">
<textarea id="jsCode">
document.querySelector('.btn')
  .addEventListener('click', () => {
    alert('Hello CodePen!');
  });
</textarea>
    </div>

  </div>

  <!-- PREVIEW -->
  <div class="preview">
    <iframe id="result"></iframe>
  </div>

</div>

<div class="footer">
  <button onclick="copyAll()">Copy All Code</button>
</div>

<script>
/* TAB SWITCH */
function showTab(name) {
  document.querySelectorAll('.panel')
    .forEach(p => p.classList.remove('active'));

  document.querySelectorAll('.tab')
    .forEach(t => t.classList.remove('active'));

  document.getElementById(name).classList.add('active');
  event.target.classList.add('active');
}

/* UPDATE PREVIEW */
function updatePreview() {
  const html = htmlCode.value;
  const css  = cssCode.value;
  const js   = jsCode.value;

  result.srcdoc = `
<!DOCTYPE html>
<html>
<head>
<style>${css}</style>
</head>
<body>
${html}
<script>${js}<\/script>
</body>
</html>
  `;
}

/* COPY ALL */
function copyAll() {
  const all = `
HTML:
${htmlCode.value}

CSS:
${cssCode.value}

JS:
${jsCode.value}
  `;
  navigator.clipboard.writeText(all);
  alert("All code copied!");
}

/* LIVE UPDATE */
document.querySelectorAll('textarea')
  .forEach(t => t.addEventListener('input', updatePreview));

updatePreview();
</script>

</body>
</html>
